<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Fun Quiz</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel (untuk memproses JSX dalam browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap');
        body { font-family: 'Nunito', sans-serif; }
        
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
        .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        .animate-blob { animation: blob 7s infinite; }
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONS (SVG Inline ganti Lucide-React untuk standalone HTML) ---
        const StarIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>;
        const PlayIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="5 3 19 12 5 21 5 3"/></svg>;
        const RefreshIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>;
        const TrophyIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>;
        const CheckIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>;
        const XIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>;
        const CoffeeIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>;
        const CopyIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>;
        const CheckSimpleIcon = ({className}) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="20 6 9 17 4 12"/></svg>;

        const QUESTIONS_DATA = [
            { id: 1, question: "What animal is this?", image: "üê±", options: ["Dog", "Cat", "Mouse"], answer: "Cat" },
            { id: 2, question: "What fruit is this?", image: "üçé", options: ["Banana", "Apple", "Orange"], answer: "Apple" },
            { id: 3, question: "What is this?", image: "üöó", options: ["Car", "Bus", "Bike"], answer: "Car" },
            { id: 4, question: "What color is the sun?", image: "‚òÄÔ∏è", options: ["Blue", "Yellow", "Green"], answer: "Yellow" },
            { id: 5, question: "What is this used for reading?", image: "üìñ", options: ["Table", "Book", "Pen"], answer: "Book" },
            { id: 6, question: "What do we play with?", image: "‚öΩ", options: ["Ball", "Bat", "Net"], answer: "Ball" },
            { id: 7, question: "It grows in the garden.", image: "üå≥", options: ["Rock", "Tree", "Water"], answer: "Tree" },
            { id: 8, question: "Where do we live?", image: "üè†", options: ["House", "School", "Park"], answer: "House" },
            { id: 9, question: "It swims in the water.", image: "üêü", options: ["Bird", "Fish", "Cat"], answer: "Fish" },
            { id: 10, question: "It flies in the sky.", image: "üê¶", options: ["Fish", "Bird", "Snake"], answer: "Bird" },
            { id: 11, question: "We use this to write.", image: "‚úèÔ∏è", options: ["Pencil", "Ruler", "Eraser"], answer: "Pencil" },
            { id: 12, question: "We sit on this.", image: "ü™ë", options: ["Table", "Chair", "Bed"], answer: "Chair" },
            { id: 13, question: "It tells the time.", image: "‚è∞", options: ["Watch", "Clock", "Phone"], answer: "Clock" },
            { id: 14, question: "It smells nice.", image: "üå∏", options: ["Flower", "Leaf", "Grass"], answer: "Flower" },
            { id: 15, question: "We wear this on our head.", image: "üß¢", options: ["Shirt", "Shoe", "Hat"], answer: "Hat" },
            { id: 16, question: "We wear these on our feet.", image: "üëü", options: ["Gloves", "Socks", "Shoes"], answer: "Shoes" },
            { id: 17, question: "We eat soup with this.", image: "ü•Ñ", options: ["Fork", "Knife", "Spoon"], answer: "Spoon" },
            { id: 18, question: "What is this?", image: "üçå", options: ["Apple", "Banana", "Grape"], answer: "Banana" },
            { id: 19, question: "This animal has a long trunk.", image: "üêò", options: ["Lion", "Elephant", "Tiger"], answer: "Elephant" },
            { id: 20, question: "We see this at night.", image: "üåô", options: ["Sun", "Moon", "Cloud"], answer: "Moon" },
            { id: 21, question: "It goes 'Moo'.", image: "üêÑ", options: ["Cow", "Sheep", "Horse"], answer: "Cow" },
            { id: 22, question: "It is a big transport.", image: "üöå", options: ["Car", "Bus", "Taxi"], answer: "Bus" },
            { id: 23, question: "It flies high with passengers.", image: "‚úàÔ∏è", options: ["Train", "Boat", "Plane"], answer: "Plane" },
            { id: 24, question: "Part of the body (Vision).", image: "üëÅÔ∏è", options: ["Ear", "Nose", "Eye"], answer: "Eye" },
            { id: 25, question: "Part of the body (Eating).", image: "üëÑ", options: ["Mouth", "Hand", "Leg"], answer: "Mouth" },
            { id: 26, question: "Green vegetable.", image: "ü•¶", options: ["Carrot", "Broccoli", "Potato"], answer: "Broccoli" },
            { id: 27, question: "King of the jungle.", image: "ü¶Å", options: ["Tiger", "Lion", "Bear"], answer: "Lion" },
            { id: 28, question: "It rains from this.", image: "‚òÅÔ∏è", options: ["Sun", "Cloud", "Star"], answer: "Cloud" },
            { id: 29, question: "We sleep on this.", image: "üõèÔ∏è", options: ["Chair", "Desk", "Bed"], answer: "Bed" },
            { id: 30, question: "Sweet treat.", image: "üç¶", options: ["Ice Cream", "Bread", "Rice"], answer: "Ice Cream" },
        ];

        function App() {
            const [gameState, setGameState] = useState('start');
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);
            const [score, setScore] = useState(0);
            const [selectedOption, setSelectedOption] = useState(null);
            const [isCorrect, setIsCorrect] = useState(null);
            const [feedbackMessage, setFeedbackMessage] = useState("");

            const playSound = (type) => {
                try {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    if (!AudioContext) return;
                    
                    const ctx = new AudioContext();
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();

                    osc.connect(gain);
                    gain.connect(ctx.destination);

                    if (type === 'correct') {
                        osc.type = 'sine';
                        osc.frequency.setValueAtTime(600, ctx.currentTime);
                        osc.frequency.exponentialRampToValueAtTime(1000, ctx.currentTime + 0.1);
                        gain.gain.setValueAtTime(0.2, ctx.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.5);
                        osc.start(ctx.currentTime);
                        osc.stop(ctx.currentTime + 0.5);
                    } else if (type === 'wrong') {
                        osc.type = 'sawtooth';
                        osc.frequency.setValueAtTime(150, ctx.currentTime);
                        osc.frequency.linearRampToValueAtTime(100, ctx.currentTime + 0.3);
                        gain.gain.setValueAtTime(0.2, ctx.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                        osc.start(ctx.currentTime);
                        osc.stop(ctx.currentTime + 0.3);
                    } else if (type === 'click') {
                        osc.type = 'triangle';
                        osc.frequency.setValueAtTime(300, ctx.currentTime);
                        gain.gain.setValueAtTime(0.1, ctx.currentTime);
                        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
                        osc.start(ctx.currentTime);
                        osc.stop(ctx.currentTime + 0.1);
                    }
                } catch (e) { console.error("Audio error", e); }
            };

            const startGame = () => {
                playSound('click');
                setGameState('playing');
                setScore(0);
                setCurrentQuestionIndex(0);
                setSelectedOption(null);
                setIsCorrect(null);
                setFeedbackMessage("");
            };

            const handleAnswerClick = (option) => {
                if (selectedOption) return;

                setSelectedOption(option);
                const currentQ = QUESTIONS_DATA[currentQuestionIndex];
                const correct = option === currentQ.answer;

                setIsCorrect(correct);

                if (correct) {
                    playSound('correct');
                    setScore(score + 1);
                    setFeedbackMessage("Excellent! üéâ");
                } else {
                    playSound('wrong');
                    setFeedbackMessage(`Oops! The answer is ${currentQ.answer}`);
                }

                setTimeout(() => {
                    if (currentQuestionIndex < QUESTIONS_DATA.length - 1) {
                        setCurrentQuestionIndex(currentQuestionIndex + 1);
                        setSelectedOption(null);
                        setIsCorrect(null);
                        setFeedbackMessage("");
                    } else {
                        setGameState('finished');
                        playSound('correct');
                    }
                }, 1500);
            };

            const getStars = () => {
                const percentage = (score / QUESTIONS_DATA.length) * 100;
                if (percentage === 100) return 3;
                if (percentage >= 70) return 2;
                if (percentage >= 40) return 1;
                return 0;
            };

            // --- COMPONENTS ---
            
            const DeveloperFooter = () => {
                const [isExpanded, setIsExpanded] = useState(false);
                const [copied, setCopied] = useState(false);

                const handleCopy = () => {
                    const text = "121497041251";
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        setCopied(true);
                        setTimeout(() => setCopied(false), 2000);
                    } catch (err) { console.error('Failed to copy', err); }
                    document.body.removeChild(textArea);
                };

                return (
                    <div className="absolute bottom-4 left-0 w-full flex flex-col items-center justify-center gap-2 z-20">
                        <p className="text-sm text-gray-400 drop-shadow-sm">
                            App created by <span className="font-bold text-blue-500">NBMM (Nurul Balqis Mohd Moit)</span>
                        </p>
                        
                        {!isExpanded ? (
                            <button 
                                onClick={() => setIsExpanded(true)}
                                className="flex items-center gap-2 text-xs font-medium text-amber-700 bg-amber-100 hover:bg-amber-200 px-4 py-1.5 rounded-full transition-all duration-300 shadow-sm border border-amber-200"
                            >
                                <CoffeeIcon className="w-3.5 h-3.5" />
                                Tips for Developer
                            </button>
                        ) : (
                            <div className="flex items-center gap-3 bg-white/90 backdrop-blur-sm p-3 rounded-xl shadow-xl border border-amber-100 animate-in slide-in-from-bottom-2 fade-in zoom-in-95 duration-200">
                                <div className="flex flex-col items-start">
                                    <span className="text-[10px] uppercase font-bold text-gray-400 tracking-wider">DuitNow</span>
                                    <code className="text-sm font-mono font-bold text-gray-700">121497041251</code>
                                </div>
                                
                                <button 
                                    onClick={handleCopy}
                                    className={`p-2 rounded-lg transition-all duration-200 ${
                                        copied 
                                        ? 'bg-green-100 text-green-600' 
                                        : 'bg-gray-100 text-gray-500 hover:bg-blue-100 hover:text-blue-600'
                                    }`}
                                    title="Copy Number"
                                >
                                    {copied ? <CheckSimpleIcon className="w-4 h-4" /> : <CopyIcon className="w-4 h-4" />}
                                </button>
                                
                                <button 
                                    onClick={() => setIsExpanded(false)}
                                    className="ml-1 p-1 text-gray-400 hover:text-red-400 rounded-full hover:bg-red-50 transition-colors"
                                >
                                    <XIcon className="w-4 h-4" />
                                </button>
                            </div>
                        )}
                    </div>
                );
            };

            const StartScreen = () => (
                <div className="flex flex-col items-center justify-center h-full p-6 text-center animate-in fade-in zoom-in duration-500 relative">
                    <div className="mb-6 p-6 bg-yellow-100 rounded-full border-4 border-yellow-400 shadow-xl">
                        <span className="text-8xl">ü¶Å</span>
                    </div>
                    <h1 className="text-4xl md:text-6xl font-black text-blue-600 mb-2 drop-shadow-sm tracking-wide">English Fun Quiz</h1>
                    <p className="text-gray-600 text-lg mb-8 font-medium">FOR TODDLERS</p>
                    <button onClick={startGame} className="group relative inline-flex items-center justify-center px-8 py-4 text-2xl font-bold text-white transition-all duration-200 bg-green-500 font-lg rounded-2xl hover:bg-green-600 hover:scale-105 shadow-[0_6px_0_rgb(21,128,61)] hover:shadow-[0_4px_0_rgb(21,128,61)] active:shadow-none active:translate-y-2 mb-16">
                        <PlayIcon className="mr-3 w-8 h-8 fill-current" />
                        Start Game!
                    </button>
                    <DeveloperFooter />
                </div>
            );

            const GameScreen = () => {
                const question = QUESTIONS_DATA[currentQuestionIndex];
                const progress = ((currentQuestionIndex + 1) / QUESTIONS_DATA.length) * 100;
                return (
                    <div className="flex flex-col h-full max-w-2xl mx-auto w-full">
                        <div className="flex justify-between items-center p-4 bg-white/50 backdrop-blur-sm rounded-b-2xl shadow-sm mb-4">
                            <div className="flex items-center gap-2">
                                <span className="bg-blue-100 p-2 rounded-lg text-blue-600 font-bold">Q: {currentQuestionIndex + 1}/{QUESTIONS_DATA.length}</span>
                            </div>
                            <div className="flex items-center gap-2 bg-yellow-100 px-4 py-2 rounded-full border-2 border-yellow-400">
                                <StarIcon className="w-5 h-5 text-yellow-500 fill-yellow-500" />
                                <span className="font-black text-yellow-700 text-xl">{score}</span>
                            </div>
                        </div>
                        <div className="w-full bg-gray-200 h-3 rounded-full mb-6 mx-4 w-[calc(100%-2rem)]">
                            <div className="bg-blue-500 h-3 rounded-full transition-all duration-500 ease-out" style={{ width: `${progress}%` }}></div>
                        </div>
                        <div className="flex-1 flex flex-col items-center justify-center p-4">
                            <div className="bg-white p-8 rounded-3xl shadow-xl w-full text-center border-b-8 border-blue-200 relative overflow-hidden">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400"></div>
                                <div className="text-9xl mb-6 transform hover:scale-110 transition-transform duration-300 cursor-default select-none">{question.image}</div>
                                <h2 className="text-2xl md:text-3xl font-bold text-gray-800 mb-8">{question.question}</h2>
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    {question.options.map((option, idx) => {
                                        let btnClass = "bg-white border-4 border-blue-100 text-blue-600 hover:border-blue-400 hover:bg-blue-50";
                                        if (selectedOption) {
                                            if (option === question.answer) btnClass = "bg-green-100 border-green-500 text-green-700 ring-4 ring-green-200";
                                            else if (option === selectedOption) btnClass = "bg-red-100 border-red-500 text-red-700";
                                            else btnClass = "bg-gray-50 border-gray-200 text-gray-400 opacity-50";
                                        }
                                        return (
                                            <button key={idx} onClick={() => handleAnswerClick(option)} disabled={selectedOption !== null} className={`py-4 px-2 rounded-xl text-xl font-bold transition-all duration-200 shadow-sm active:scale-95 ${btnClass}`}>
                                                {option}
                                            </button>
                                        );
                                    })}
                                </div>
                            </div>
                            <div className={`mt-6 h-16 flex items-center justify-center transition-opacity duration-300 ${selectedOption ? 'opacity-100' : 'opacity-0'}`}>
                                {isCorrect === true && <div className="flex items-center gap-3 bg-green-500 text-white px-6 py-3 rounded-full shadow-lg animate-bounce"><CheckIcon className="w-6 h-6" /><span className="text-xl font-bold">{feedbackMessage}</span></div>}
                                {isCorrect === false && <div className="flex items-center gap-3 bg-red-500 text-white px-6 py-3 rounded-full shadow-lg animate-shake"><XIcon className="w-6 h-6" /><span className="text-xl font-bold">{feedbackMessage}</span></div>}
                            </div>
                        </div>
                    </div>
                );
            };

            const ResultScreen = () => {
                const stars = getStars();
                return (
                    <div className="flex flex-col items-center justify-center h-full p-6 text-center animate-in slide-in-from-bottom duration-500 relative">
                        <div className="relative mb-8">
                            <TrophyIcon className="w-32 h-32 text-yellow-400 drop-shadow-lg mx-auto" />
                            <div className="flex justify-center mt-4 gap-2">
                                {[...Array(3)].map((_, i) => (
                                    <StarIcon key={i} className={`w-12 h-12 ${i < stars ? 'text-yellow-400 fill-yellow-400' : 'text-gray-300'} transition-all delay-${i*100}`} />
                                ))}
                            </div>
                        </div>
                        <h2 className="text-4xl font-black text-gray-800 mb-2">{stars === 3 ? "Amazing Job! üåü" : stars === 2 ? "Well Done! üëç" : "Good Try! üí™"}</h2>
                        <p className="text-xl text-gray-600 mb-8">You scored <span className="font-bold text-blue-600 text-2xl">{score}</span> out of {QUESTIONS_DATA.length}</p>
                        <div className="grid gap-4 w-full max-w-xs mb-16">
                            <button onClick={startGame} className="flex items-center justify-center px-8 py-4 bg-blue-500 text-white rounded-2xl font-bold text-xl hover:bg-blue-600 hover:scale-105 transition-all shadow-lg">
                                <RefreshIcon className="mr-2 w-6 h-6" /> Play Again
                            </button>
                        </div>
                        <DeveloperFooter />
                    </div>
                );
            };

            return (
                <div className="w-full max-w-4xl h-[100dvh] md:h-[85vh] bg-white md:rounded-[2rem] shadow-2xl overflow-hidden relative ring-8 ring-blue-500/10 flex flex-col mx-auto my-0 md:my-8">
                    <div className="absolute top-[-50px] left-[-50px] w-32 h-32 bg-yellow-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"></div>
                    <div className="absolute top-[-50px] right-[-50px] w-32 h-32 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"></div>
                    <div className="absolute bottom-[-50px] left-[20%] w-32 h-32 bg-pink-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"></div>
                    <div className="relative h-full z-10 w-full">
                        {gameState === 'start' && <StartScreen />}
                        {gameState === 'playing' && <GameScreen />}
                        {gameState === 'finished' && <ResultScreen />}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>